
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "large" color = "#fff" type = "ball-climbing-dot" [fullScreen] = "true">
  <p style="color: white" > Loading... 

  </p>
</ngx-spinner>
<div class="main-container">
<div class="container">
    <div class="row">
        <div class="col-md-9 page-content">
            <div class="inner-box category-content">
                <h2 class="title-2 uppercase"><strong> <i class="icon-docs"></i>Edit Free Ad</strong>
                </h2>

 <span *ngIf="post_error" class=" text-danger pull-right" > <a class=" text-danger pull-right"  routerLink="/profile">{{ post_error }}</a> </span>

                <div class="row">
                    <div class="col-sm-12">

        <form [formGroup]="updatePostForm" 
        (ngSubmit)="UpdateForm(updateData.id)" 
        class="form-horizontal">
                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">Product Type</label>
                    <div class="col-sm-8">
                        <select formControlName="select_product_type" id="category-group" class="form-control">

                            <option value="" > Select a product type...</option>
                            <option *ngFor="let product_type of productType" [value]="product_type.id">{{ product_type.product_type }}
                            </option>
                        </select>
                    </div>
                </div>
 
                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">Material</label>
                    <div class="col-sm-8">
                        <select formControlName="material" id="category-group" class="form-control" (change)="onChange($event)" (change)="getGrade($event.target.value)">

                            <option value="" > Select a material</option>
                            <option class="text-capitalize" *ngFor="let material of allMaterial" [value]="material.id">{{ material.material_type }} 
                            </option>
                            <option value="">Other</option>
                        </select>
                        <!--  -->
                        <div  *ngIf="selectedType == ''" class="form-group row">
                            <div class="col-sm-12 mt-2">
                                <input type="text" formControlName="req_material"  class="form-control" id="newmaterial" placeholder="Enter New Material Name">
                                <small id="sm-description" class="form-text text-muted">
                                    We will add your material if it is applicable.
                                </small>
                            </div>
                        </div>
                        <!--  -->

                    </div>
                </div>


                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">Grade</label>
                    <div class="col-sm-8">
                        <select formControlName="grade" id="category-group" class="form-control" (change)="onSelect($event)" >

                            <option value="" > Select a grade</option>
                            <option class="text-capitalize" *ngFor="let grade of sub_material_name" [value]="grade.id">{{ grade.grade }} 
                            </option>
                            <option value="">Other</option>
                        </select>
                        <!--  -->
                        <div  *ngIf="selectType == ''" class="form-group row">
                            <div class="col-sm-12 mt-2">
                                <input type="text" formControlName="req_grade"  class="form-control" id="newgrade" placeholder="Enter New Grade Name">

                                <small id="sm-description" class="form-text text-muted">
                                    We will add your grade if it is applicable.
                                </small>
                            </div>
                        </div>
                        <!--  -->

                    </div>
                </div>

        <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">Shape</label>
                    <div class="col-sm-8">
                        <select formControlName="shape" id="category-group" class="form-control" (change)="onSelecthsape($event)">

                            <option value="" > Select a Shape</option>
                            <option class="text-capitalize" *ngFor="let shape of allShapes" [value]="shape.id">{{ shape.shape_type }} 
                            </option>
                            <option value="">Other</option>
                        </select>
                        <!--  -->
                        <div  *ngIf="selectShape == ''" class="form-group row">
                            <div class="col-sm-12 mt-2">
                                <input type="text" formControlName="req_shape"  class="form-control" id="newgrade" placeholder="Enter New Grade Name">

                                <small id="sm-description" class="form-text text-muted">
                                    We will add your grade if it is applicable.
                                </small>
                            </div>
                        </div>
                        <!--  -->
                    </div>
                </div>

                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">Length</label>
                    <div class="col-sm-8">
                        <input type="text" formControlName="length" class="form-control" id="Adtitle" [(ngModel)]=" updateData.length">
                        <small id="" class="form-text text-muted">
                            Entering the length if applicable
                        </small>
                    </div>
                </div>

                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">Dimeter</label>
                    <div class="col-sm-8">
                        <input type="text" formControlName="dimeter" class="form-control" id="Adtitle" [(ngModel)]="updateData.dimeter">
                        <small id="" class="form-text text-muted">
                            Entering the dimeter if applicable
                        </small>
                    </div>
                </div>
                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">ID</label>
                    <div class="col-sm-8">
                        <input type="text" formControlName="ids" class="form-control" id="Adtitle" [(ngModel)]="updateData.ids">
                        <small  class="form-text text-muted">
                            Entering the ID if applicable
                        </small>
                    </div>
                </div>
                <div class="form-group row">

                    <label  class="col-sm-3 col-form-label" >
                    Width</label>
                    <div class="col-sm-8">
                        <input type="text" formControlName="width" class="form-control"  id="Adtitle" [(ngModel)]="updateData.width">
                        <small class="form-text text-muted">
                            Enter width if applicable
                        </small>
                    </div>
                </div>



               <div class="form-group row">
                    <label  class="col-sm-3 col-form-label"> Weight</label>
                    <div class="col-sm-8">
                        <input type="text" formControlName="weight" class="form-control" id="Adtitle" [(ngModel)]="updateData.weight">
                        <small id="" class="form-text text-muted">
                            Enter weight in kg if applicable
                        </small>
                    </div>
                </div>



                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label"> Thickness </label>
                    <div class="col-sm-8">
                        <input type="text" formControlName="thickness" class="form-control" id="Adtitle" [(ngModel)]="updateData.thickness">
                        <small id="" class="form-text text-muted">
                            Enter thickness if applicable
                        </small>
                    </div>
                </div>



                <div class="form-group row">
                    <label  class="col-sm-3 col-form-label">Quantity</label>
                    <div class="col-sm-6">
                        <input type="text" formControlName="quantity" class="form-control" id="Adtitle" [(ngModel)]="updateData.quantity">
                        <small id="" class="form-text text-muted">
                            Enter quantity if applicable  
                        </small>
                    </div>
                    <div class="col-sm-2">

                        <select formControlName="unit" id="category-group" class="form-control">
                            <option class="text-capitalize" selected *ngFor="let units of allUnits" [value]="units.id">{{ units.unit_type }} 
                            </option>
                            
                        </select>
                        </div>
                </div>

               

                <div class="uploadfilecontainer" (click)="fileInput.click()" appDragDrop (onFileDropped)="uploadFile($event)">
                <div class="text-center">
                    <i class="fa fa-cloud cloud"></i><p class="text-data">Click here to update Images</p>
                    <p>You can't upload more then 5 images </p>
                </div>
                <input hidden type="file" #fileInput (change)="uploadFile($event)" multiple>                
                </div>
                
                <div  class="files-list" *ngFor="let file of url;let i= index">
                    <p>
                     {{ file.name }} 
                 </p>
                 </div>


        <div class="form-group row">
            <label  class="col-sm-3 col-form-label">Describe Product</label>
            <div class="col-sm-8">
                <textarea class="form-control" formControlName="product_description" name="textarea" rows="3" [(ngModel)]="updateData.product_description"></textarea>

            </div>
        </div>




    <div class="form-group row">
        <label  class="col-sm-3 col-form-label">Selling Price</label>

        <div class="input-group col-sm-6">
            <div class="input-group-prepend">
                <span class="input-group-text">â‚¹</span>
            </div>
            <input type="number" formControlName="selling_price" class="form-control" [(ngModel)]="updateData.selling_price" aria-label="Amount  (to the nearest dollar)">
            <div class="input-group-append">
                <span class="input-group-text">.00</span>
            </div>
        </div>


        <div class="col-sm-3">

                <div class="form-check">
                    <label class="form-check-label">
                        <input class="form-check-input" formControlName="bargening" type="checkbox" > Negotiable
                    </label>
                </div>

        </div>

        
    </div>




        <div class="form-group row">

            <div class="col-sm-8">
                <button class="btn btn-info" (click)="updateFiles(updateData.id)">
                    Update
                </button>
            </div>
        </div>


            </form>

            </div>
        </div>
    </div>
</div>
<!-- /.page-content -->

                <div class="col-md-3 reg-sidebar">
                    <div class="reg-sidebar-inner text-center">
                        <div class="promo-text-box"><i class=" icon-picture fa fa-4x icon-color-1"></i>

                            <h3><strong>Post a Free Classified</strong></h3>

                            <p> Post your free online classified ads with us. </p>
                        </div>
                        
                        <div class="card sidebar-card">
                            <div class="card-header uppercase" >
                            <small><strong>How to sell quickly? </strong></small>
                            </div>


                            <div class="card-content">
                                <div class="card-body text-left">
                                    <ul class="list-check">
                                        <li> Use a brief title and description of the item</li>
                                        <li> Make sure you post in the correct category</li>
                                        <li> Add nice photos to your ad</li>
                                        <li> Put a reasonable price</li>
                                        <li> Check the item before publish</li>

                                    </ul>
                                </div>
                            </div>
                        </div>


                    </div>
                </div>
                <!--/.reg-sidebar-->
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container -->
    </div>
    <!-- /.main-container -->
